interactions:
- request:
    body: '{"query": "query {\nmeta_ai_model {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model":[{"name":"DUMMY","version":1,"id":"bf6e549d-20dc-4bc1-9df9-0b28e733eacb","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}]}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '162'
      x-request-id:
      - 37173343-14ed-4893-8d91-792e8db4bf3a
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "mutation {\ninsert_meta_ai_model_one(object: {description: \"\",
      inputSchema: \"null\", metadata: null, modelSavePath: \"\", name: \"model_2\",
      outputSchema: \"null\", root_id: null, stage: LOCAL, version: 1, visibility:
      PRIVATE, weightsPath: \"\"}) {\nname\nversion\nid\nstage\ndescription\nvisibility\nroot_id\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"insert_meta_ai_model_one":{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","stage":"LOCAL","description":"","visibility":"PRIVATE","root_id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313"}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '217'
      x-request-id:
      - 47702082-97f3-4ce3-8064-a06bbe9cd974
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"bdcb56dc-4d04-4f8e-adfd-8055fe884313\")
      {\nname\nversion\nid\nai_worker_id\ndescription\nvisibility\ninputSchema\noutputSchema\nroot_id\nserved_by\ntrainable\ndefault_training_parameters\nimage\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"description":"","visibility":"PRIVATE","inputSchema":"null","outputSchema":"null","root_id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","served_by":null,"trainable":false,"default_training_parameters":null,"image":null}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '342'
      x-request-id:
      - b5244e26-1770-4421-be8d-cbce720e66ff
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"bdcb56dc-4d04-4f8e-adfd-8055fe884313\")
      {\nroot_model {\nsibling_models {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"root_model":{"sibling_models":[{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}]}}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '204'
      x-request-id:
      - e6c71861-d209-44a9-8402-1a16381c5584
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "mutation {\ninsert_meta_ai_model_one(object: {description: \"\",
      inputSchema: \"null\", metadata: null, modelSavePath: \"\", name: \"model_2\",
      outputSchema: \"null\", root_id: \"bdcb56dc-4d04-4f8e-adfd-8055fe884313\", stage:
      LOCAL, version: 2, visibility: PRIVATE, weightsPath: \"\"}) {\nname\nversion\nid\nstage\ndescription\nvisibility\nroot_id\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"insert_meta_ai_model_one":{"name":"model_2","version":2,"id":"afde6189-012c-4f96-bc80-7068691ef49c","stage":"LOCAL","description":"","visibility":"PRIVATE","root_id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313"}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '217'
      x-request-id:
      - 3914ea43-9430-4a76-a82a-64445bef106b
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"afde6189-012c-4f96-bc80-7068691ef49c\")
      {\nname\nversion\nid\nai_worker_id\ndescription\nvisibility\ninputSchema\noutputSchema\nroot_id\nserved_by\ntrainable\ndefault_training_parameters\nimage\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"name":"model_2","version":2,"id":"afde6189-012c-4f96-bc80-7068691ef49c","ai_worker_id":null,"description":"","visibility":"PRIVATE","inputSchema":"null","outputSchema":"null","root_id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","served_by":null,"trainable":false,"default_training_parameters":null,"image":null}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '342'
      x-request-id:
      - c7394381-ee49-4b91-aa6b-4d4899a1e1c9
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model(where: {name: {_eq: \"model_2\"}}) {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model":[{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"visibility":"PRIVATE","trainable":false},
        {"name":"model_2","version":2,"id":"afde6189-012c-4f96-bc80-7068691ef49c","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}]}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '301'
      x-request-id:
      - b442d3b7-affb-4b21-8bff-408bd04dc853
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "mutation {\ninsert_meta_ai_model_one(object: {description: \"\",
      inputSchema: \"null\", metadata: null, modelSavePath: \"\", name: \"model_3\",
      outputSchema: \"null\", root_id: null, stage: LOCAL, version: 2, visibility:
      PRIVATE, weightsPath: \"\"}) {\nname\nversion\nid\nstage\ndescription\nvisibility\nroot_id\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"errors":[{"extensions":{"internal":{"statement":"WITH \"meta_ai_model__mutation_result_alias\"
        AS (INSERT INTO \"meta_ai\".\"model\" ( \"stage\", \"editorId\", \"image\",
        \"trainable\", \"createdAt\", \"ai_worker_username\", \"modelSavePath\", \"ai_worker_id\",
        \"visibility\", \"outputSchema\", \"weightsPath\", \"root_id\", \"ownerId\",
        \"inputSchema\", \"name\", \"served_by\", \"version\", \"metadata\", \"id\",
        \"updatedAt\", \"endpoint\", \"description\", \"default_training_parameters\"
        ) VALUES ((''LOCAL'')::text, DEFAULT, DEFAULT, DEFAULT, DEFAULT, DEFAULT,
        ('''')::text, DEFAULT, (''PRIVATE'')::text, (''\"null\"'')::jsonb, ('''')::text,
        (NULL)::uuid, (''1'')::bigint, (''\"null\"'')::jsonb, (''model_3'')::text,
        DEFAULT, (''2'')::integer, (NULL)::jsonb, DEFAULT, DEFAULT, DEFAULT, ('''')::text,
        DEFAULT)  RETURNING * , (''true'')::boolean AS \"check__constraint\"), \"meta_ai_model__all_columns_alias\"
        AS (SELECT  \"id\" , \"createdAt\" , \"name\" , \"metadata\" , \"ownerId\"
        , \"version\" , \"endpoint\" , \"description\" , \"visibility\" , \"updatedAt\"
        , \"editorId\" , \"inputSchema\" , \"outputSchema\" , \"stage\" , \"modelSavePath\"
        , \"weightsPath\" , \"ai_worker_id\" , \"ai_worker_username\" , \"root_id\"
        , \"served_by\" , \"trainable\" , \"default_training_parameters\" , \"image\"  FROM
        \"meta_ai_model__mutation_result_alias\"      ) SELECT  (SELECT  coalesce((json_agg(\"root\"
        )->0), ''null'' ) AS \"root\" FROM  (SELECT  row_to_json((SELECT  \"_1_e\"  FROM  (SELECT  \"_0_root.base\".\"name\"
        AS \"name\", \"_0_root.base\".\"version\" AS \"version\", \"_0_root.base\".\"id\"
        AS \"id\", \"_0_root.base\".\"stage\" AS \"stage\", \"_0_root.base\".\"description\"
        AS \"description\", \"_0_root.base\".\"visibility\" AS \"visibility\", \"_0_root.base\".\"root_id\"
        AS \"root_id\"       ) AS \"_1_e\"      ) ) AS \"root\" FROM  (SELECT  *  FROM
        \"meta_ai_model__all_columns_alias\" WHERE (''true'')     ) AS \"_0_root.base\"      )
        AS \"_2_root\"      ) , (SELECT  coalesce(bool_and(\"check__constraint\" ),
        ''true'' )  FROM \"meta_ai_model__mutation_result_alias\"      )        ","prepared":false,"error":{"exec_status":"FatalError","hint":"check
        Use the model_id of the root model to set the root_id","message":"Missing
        root_id, Models with version > 1 require root_id","status_code":"P0001","description":null},"arguments":[]},"path":"$.selectionSet.insert_meta_ai_model_one.args.object","code":"unexpected"},"message":"database
        query error"}]}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"bdcb56dc-4d04-4f8e-adfd-8055fe884313\")
      {\nroot_model {\nsibling_models {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"root_model":{"sibling_models":[{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"visibility":"PRIVATE","trainable":false},
        {"name":"model_2","version":2,"id":"afde6189-012c-4f96-bc80-7068691ef49c","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}]}}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '341'
      x-request-id:
      - b7f3e333-cb6a-424c-8885-cf7158941a97
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"afde6189-012c-4f96-bc80-7068691ef49c\")
      {\nroot_model {\nsibling_models {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"root_model":{"sibling_models":[{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"visibility":"PRIVATE","trainable":false},
        {"name":"model_2","version":2,"id":"afde6189-012c-4f96-bc80-7068691ef49c","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}]}}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '341'
      x-request-id:
      - 69c21828-b465-4dba-91e8-2c15267de88c
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"afde6189-012c-4f96-bc80-7068691ef49c\")
      {\nroot_model {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"root_model":{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '183'
      x-request-id:
      - 6017a7cd-cfe6-4837-a401-d3e77e8cde28
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "query {\nmeta_ai_model_by_pk(id: \"bdcb56dc-4d04-4f8e-adfd-8055fe884313\")
      {\nroot_model {\nsibling_models {\nname\nversion\nid\nai_worker_id\nvisibility\ntrainable\n}\n}\n}\n}",
      "variables": null, "operationName": null}'
    headers:
      Accept:
      - application/json; charset=utf-8
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
    method: POST
    uri: http://localhost:61751/v1/graphql
  response:
    body:
      string: '{"data":{"meta_ai_model_by_pk":{"root_model":{"sibling_models":[{"name":"model_2","version":1,"id":"bdcb56dc-4d04-4f8e-adfd-8055fe884313","ai_worker_id":null,"visibility":"PRIVATE","trainable":false},
        {"name":"model_2","version":2,"id":"afde6189-012c-4f96-bc80-7068691ef49c","ai_worker_id":null,"visibility":"PRIVATE","trainable":false}]}}}}'
    headers:
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 21 Apr 2022 07:12:24 GMT
      Server:
      - Warp/3.3.14
      Transfer-Encoding:
      - chunked
      content-length:
      - '341'
      x-request-id:
      - 2437be13-188e-441a-b0b8-e860126e2ce1
    status:
      code: 200
      message: OK
version: 1
